## Архитектура проекта
Для выполнения задания было принято решение использовать фреймворк FastAPI в связи с высокой производительностью. 
Аннотация типов выполнена при помощи библиотеки Pydantic. В сервисе имеется только одна ручка: /predict для post-запроса, в теле которого может быть как один json указанного в тестовом наборе данных типа, так и массив таких json`ов. Предобученная модель вызывается в начале работы сервиса.
## Структура репозитория
1. Основная директория service содержит main.py, в котором описана логика сервиса. Файл global_constants содержит глобальные константы, а именно абсолютные пути для тестового набора данных test_data.csv и предобученной модели micromodel.cbm. В pick_regno написаны основные функции для предсказаний.
2. Директория data содержит набор с тестовыми данными test_data.csv и предобученную модель CatBoost micromodel.cbm.
3. Директория models содержит описания интерфейса данных, поступающих для обработки.
4. В папке test содержится unit-тест, в котором проверяется работа endpoint`a.
## Исправления
В ходе анализа pick_regno была обнаружена ошибка в функции count_foreign_syms -- отсутствовал возврат значения, что могло приводить к ошибкам. Также, для повышения производительности была изменена функция pick_regno: ранее на вход поступал путь к предобученной модели и модель вызывалась каждый раз при вызове функции. Теперь же на вход функции сразу поступает сама модель.
## Локальный запуск сервиса
Для локального запуска сервиса необходимо установить пакеты, указанные в requirements.txt: "pip install -r requirements.txt". Из корневой папки необходимо вызвать: "uvicorn service.main:app --reload".
## Unit-тест
Для запуска unit-теста в корневой папке необходимо выполнить команду: "python -m pytest tests/test.py -v"
